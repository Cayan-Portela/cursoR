<!DOCTYPE html>
<html>
<head>
  <title>Introdução ao R</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="curso_semana_files/rmdshower/node_modules/shower-mango/styles/screen-4x3.css">
  <link rel="stylesheet" href="curso_semana_files/rmdshower/style-common.css">
  <link rel="stylesheet" href="curso_semana_files/rmdshower/style-mango.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.js"></script>
  <script src="curso_semana_files/rmdshower/auto-render.min.js" type="text/javascript"></script>
  
  
    <style type="text/css">
   div.sourceCode { overflow-x: auto; }
   table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
     margin: 0; padding: 0; vertical-align: baseline; border: none; }
   table.sourceCode { width: 100%; line-height: 100%; }
   td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
   td.sourceCode { padding-left: 5px; }
   code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
   code > span.dt { color: #902000; } /* DataType */
   code > span.dv { color: #40a070; } /* DecVal */
   code > span.bn { color: #40a070; } /* BaseN */
   code > span.fl { color: #40a070; } /* Float */
   code > span.ch { color: #4070a0; } /* Char */
   code > span.st { color: #4070a0; } /* String */
   code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
   code > span.ot { color: #007020; } /* Other */
   code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
   code > span.fu { color: #06287e; } /* Function */
   code > span.er { color: #ff0000; font-weight: bold; } /* Error */
   code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
   code > span.cn { color: #880000; } /* Constant */
   code > span.sc { color: #4070a0; } /* SpecialChar */
   code > span.vs { color: #4070a0; } /* VerbatimString */
   code > span.ss { color: #bb6688; } /* SpecialString */
   code > span.im { } /* Import */
   code > span.va { color: #19177c; } /* Variable */
   code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
   code > span.op { color: #666666; } /* Operator */
   code > span.bu { } /* BuiltIn */
   code > span.ex { } /* Extension */
   code > span.pp { color: #bc7a00; } /* Preprocessor */
   code > span.at { color: #7d9029; } /* Attribute */
   code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
   code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
   code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
   code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  
  
  
</head>

<body class="shower list">

  <header class="caption">
    <h1>Introdução ao R</h1>
    <p>Cayan Portela</p>
  </header>

    <section class="slide level1 titlepage">
    <h1>Introdução ao R</h1>
    <h2>Cayan Portela <br> <a href="mailto:cayanportela@hotmail.com">cayanportela@hotmail.com</a></h2>
  </section>
    
  
<section id="conceitos-basicos" class="slide level2">
<h2>Conceitos Básicos</h2>
<ul>
<li>O que é o R?</li>
</ul>
<ol type="1">
<li>Software livre.</li>
<li>Ambiente de programação estatística.</li>
</ol>
<ul>
<li>Alguns pontos positivos.</li>
</ul>
<ol type="1">
<li>Análise gráfica flexível e de qualidade.</li>
<li>Fronteira do conhecimento: métodos estatísticos mais recentes.</li>
<li>Comunidade aberta: foruns, stackoverflow, etc.</li>
</ol>
</section>
<section id="rstudio" class="slide level2">
<h2>RStudio</h2>
<ul>
<li>IDE (Ambiente de Desenvolvimento Integrado) para o software R.</li>
<li>Funcionalidades e melhor organização para progrmação.</li>
</ul>
<p>Divido em 4 partes (alteráveis):</p>
<ol type="1">
<li>Editor</li>
<li>Console</li>
<li>Help, Plots, Pacotes, etc.</li>
<li>Ambiente, histórico, conexões.</li>
</ol>
</section>
<section id="comandos-basicos" class="slide level2">
<h2>Comandos Básicos</h2>
<p>Console: onde a programação do R “é exectuada”.</p>
<p>Símbolo “&gt;” indica que o R está pronto para receber um comando.</p>
<p>Para executar um comando:</p>
<ol type="1">
<li>Na janela de console: Enter.</li>
<li>Na janela de editor:
<ul>
<li>ctrl + Enter (Linux)<br />
</li>
<li>ctrl + Enter ou ctrl + R (Windows)</li>
</ul></li>
<li>Point-click: “Run”</li>
</ol>
</section>
<section id="pacotes" class="slide level2">
<h2>Pacotes</h2>
<ul>
<li>Pacotes são conjunto de funções externas.</li>
<li>Havendo conexão com a internet, pacotes são facilmentes instalados. Geralmente, são instalados de duas maneiras:</li>
</ul>
<ol type="1">
<li>Tools &gt; Install Packages… &gt; Nome_do_Pacote</li>
<li>Através do comando ‘install.packages(“Nome_do_Pacote”)’</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)
<span class="kw">library</span>(dplyr)      <span class="co"># Carregando o pacote no ambiente.</span>
?mutate             <span class="co"># Com &#39;?&#39; abrimos a documentação do pacote, para ajuda.</span></code></pre></div>
</section>
<section id="programacao-inicial" class="slide level2">
<h2>Programação Inicial</h2>
<p>Inicialmente podemos pensar no R como uma calculadora.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span><span class="op">+</span><span class="dv">2</span>
[<span class="dv">1</span>] <span class="dv">4</span></code></pre></div>
<p>Podemos indexar valores a um objeto. Assim, ele estará disponível no seu ambiente, representando seu valor.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">imposto &lt;-<span class="st"> </span><span class="fl">0.12</span>
salario &lt;-<span class="st"> </span><span class="dv">800</span>
imposto<span class="op">*</span>salario
[<span class="dv">1</span>] <span class="dv">96</span></code></pre></div>
</section>
<section id="programacao-inicial-1" class="slide level2">
<h2>Programação Inicial</h2>
<p>Tambem podemos alocar strings (letras) em um objeto.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> &quot;Ola R!&quot;</span>
<span class="kw">print</span>(x)
[<span class="dv">1</span>] <span class="st">&quot;Ola R!&quot;</span></code></pre></div>
<p>É comum a necessidade de alocar um conjunto de valores em um único objeto. Para isso, eles são armazenados em um vetor, através da função ‘c()’.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rendimentos &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">354</span>,<span class="dv">400</span>,<span class="dv">877</span>,<span class="dv">230</span>,<span class="dv">820</span>)
rendimentos
[<span class="dv">1</span>] <span class="dv">354</span> <span class="dv">400</span> <span class="dv">877</span> <span class="dv">230</span> <span class="dv">820</span></code></pre></div>
</section>
<section id="programacao-inicial-2" class="slide level2">
<h2>Programação Inicial</h2>
<p>O R também trabalha de maneira vetorial. Por exemplo, caso queiramos multiplicar todos os valores do vetor ‘rendimentos’ por 5%, basta multiplicar o proprio vetor por 0.05. Não há necessidade de realizar uma operação para cada elemento</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rendimentos<span class="op">*</span><span class="fl">0.05</span>
[<span class="dv">1</span>] <span class="fl">17.70</span> <span class="fl">20.00</span> <span class="fl">43.85</span> <span class="fl">11.50</span> <span class="fl">41.00</span></code></pre></div>
</section>
<section id="programacao-inicial-3" class="slide level2">
<h2>Programação Inicial</h2>
<p>Se os vetores forem do mesmo tamanho, a operação é realizada elemento a elemento. Se forem de tamanhos diferentes, o R dá um aviso e recicla elementos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>( <span class="dv">1</span> , <span class="dv">2</span> , <span class="dv">3</span> ) <span class="op">+</span><span class="st"> </span><span class="kw">c</span>( <span class="dv">1</span> , <span class="dv">2</span> , <span class="dv">3</span> )
[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">4</span> <span class="dv">6</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>( <span class="dv">1</span> , <span class="dv">2</span> , <span class="dv">3</span> ) <span class="op">+</span><span class="st"> </span><span class="kw">c</span>( <span class="dv">1</span> , <span class="dv">2</span> , <span class="dv">3</span> , <span class="dv">4</span> )
Warning <span class="cf">in</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="op">+</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)<span class="op">:</span><span class="st"> </span>comprimento do objeto maior não é
múltiplo do comprimento do objeto menor
[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">4</span> <span class="dv">6</span> <span class="dv">5</span></code></pre></div>
</section>
<section id="programacao-inicial-4" class="slide level2">
<h2>Programação Inicial</h2>
<p>Vetores também podem ser compostos por strings. Como anteriormente, utilizaremos a funçao “c()”, porém os valores devem ser inseridos entre aspas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">alunos &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ana&quot;</span>,<span class="st">&quot;bia&quot;</span>,<span class="st">&quot;carol&quot;</span>,<span class="st">&quot;joao&quot;</span>)
alunos
[<span class="dv">1</span>] <span class="st">&quot;ana&quot;</span>   <span class="st">&quot;bia&quot;</span>   <span class="st">&quot;carol&quot;</span> <span class="st">&quot;joao&quot;</span> </code></pre></div>
</section>
<section id="operadores-logicos" class="slide level2">
<h2>Operadores Lógicos</h2>
<p>Operadores logicos podem assumir dois valores: TRUE (verdadeiro) ou FALSE (falso). Esse tipo lógico é resultante de operações com símbolos de comparação.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">10</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>
[<span class="dv">1</span>] <span class="ot">TRUE</span>
<span class="dv">10</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>
[<span class="dv">1</span>] <span class="ot">FALSE</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">10</span> <span class="op">==</span><span class="st"> </span><span class="dv">5</span>
[<span class="dv">1</span>] <span class="ot">FALSE</span>
<span class="dv">10</span> <span class="op">==</span><span class="st"> </span>(<span class="dv">5</span><span class="op">*</span><span class="dv">2</span>)
[<span class="dv">1</span>] <span class="ot">TRUE</span></code></pre></div>
</section>
<section id="operadores-logicos-1" class="slide level2">
<h2>Operadores Lógicos</h2>
<p>Como anteriormente, podemos fazer comparação vetorialmente.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rendimentos <span class="op">&gt;</span><span class="st"> </span><span class="dv">500</span>
[<span class="dv">1</span>] <span class="ot">FALSE</span> <span class="ot">FALSE</span>  <span class="ot">TRUE</span> <span class="ot">FALSE</span>  <span class="ot">TRUE</span></code></pre></div>
<p>Valores logicos, como os resultantes de operações como esta, podem ser utilizados em operadores matemáticos. Nestas operações, valores TRUE são computados como valores iguais a 1 e valores FALSE como 0.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(rendimentos <span class="op">&gt;</span><span class="st"> </span><span class="dv">500</span>)
[<span class="dv">1</span>] <span class="dv">2</span>
<span class="kw">mean</span>(rendimentos <span class="op">&gt;</span><span class="st"> </span><span class="dv">500</span>)
[<span class="dv">1</span>] <span class="fl">0.4</span></code></pre></div>
</section>
<section id="indexacao-de-objetos" class="slide level2">
<h2>Indexação de Objetos</h2>
<p>Para acessar um ou mais valores específicos de um elemento, utiliza-se colchetes ‘[ ]’ após o nome do vetor, com a posição do elemento desejado.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rendimentos
[<span class="dv">1</span>] <span class="dv">354</span> <span class="dv">400</span> <span class="dv">877</span> <span class="dv">230</span> <span class="dv">820</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rendimentos[<span class="dv">1</span>]
[<span class="dv">1</span>] <span class="dv">354</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rendimentos[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)]
[<span class="dv">1</span>] <span class="dv">354</span> <span class="dv">400</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rendimentos[<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>)]
[<span class="dv">1</span>] <span class="dv">400</span> <span class="dv">230</span>
rendimentos[<span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">FALSE</span>)]
[<span class="dv">1</span>] <span class="dv">354</span> <span class="dv">877</span> <span class="dv">820</span></code></pre></div>
</section>
<section id="ordenando-vetores" class="slide level2">
<h2>Ordenando Vetores</h2>
<p>Para ordenar um vetor, pode ser oneroso escrever a posicao dos elementos que represente a ordenação desejada. Ao invés disso, usaremos a função ‘order()’ ou ‘sort()’.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rendimentos
[<span class="dv">1</span>] <span class="dv">354</span> <span class="dv">400</span> <span class="dv">877</span> <span class="dv">230</span> <span class="dv">820</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">order</span>(rendimentos)
[<span class="dv">1</span>] <span class="dv">4</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">5</span> <span class="dv">3</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rendimentos[<span class="kw">order</span>(rendimentos)]
[<span class="dv">1</span>] <span class="dv">230</span> <span class="dv">354</span> <span class="dv">400</span> <span class="dv">820</span> <span class="dv">877</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sort</span>(rendimentos)
[<span class="dv">1</span>] <span class="dv">230</span> <span class="dv">354</span> <span class="dv">400</span> <span class="dv">820</span> <span class="dv">877</span></code></pre></div>
</section>
<section id="matrizes" class="slide level2">
<h2>Matrizes</h2>
<p>Extendendo o conceito de vetores, vamos considerar matrizes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">matriz &lt;-<span class="st"> </span><span class="kw">matrix</span>( <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">11</span>,<span class="dv">13</span>,<span class="dv">17</span>,<span class="dv">19</span>,<span class="dv">23</span>) , <span class="dt">byrow =</span> <span class="ot">TRUE</span> , <span class="dt">ncol =</span> <span class="dv">3</span>)
matriz
     [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]
[<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">3</span>    <span class="dv">5</span>
[<span class="dv">2</span>,]    <span class="dv">7</span>   <span class="dv">11</span>   <span class="dv">13</span>
[<span class="dv">3</span>,]   <span class="dv">17</span>   <span class="dv">19</span>   <span class="dv">23</span></code></pre></div>
<p>Agora, na indexação teremos duas posições: linhas e colunas. O primeiro (antes da virgula), corresponde à linha e o segundo (após a vírgula) à coluna.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">matriz[<span class="dv">2</span>,<span class="dv">3</span>]
[<span class="dv">1</span>] <span class="dv">13</span></code></pre></div>
</section>
<section id="matrizes-1" class="slide level2">
<h2>Matrizes</h2>
<p>Caso o interesse seja em obter todos os elementos de uma respectiva linha ou coluna, basta deixar o espaço referente sem preenchimento.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Todas as linhas da coluna 1</span>
matriz[ , <span class="dv">1</span>]
[<span class="dv">1</span>]  <span class="dv">1</span>  <span class="dv">7</span> <span class="dv">17</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Todas as colunas da linha 3</span>
matriz[<span class="dv">3</span> , ]
[<span class="dv">1</span>] <span class="dv">17</span> <span class="dv">19</span> <span class="dv">23</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Linhas 1 e 3 ; todas as colunas</span>
matriz[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>) , ]
     [,<span class="dv">1</span>] [,<span class="dv">2</span>] [,<span class="dv">3</span>]
[<span class="dv">1</span>,]    <span class="dv">1</span>    <span class="dv">3</span>    <span class="dv">5</span>
[<span class="dv">2</span>,]   <span class="dv">17</span>   <span class="dv">19</span>   <span class="dv">23</span></code></pre></div>
</section>
<section id="matrizes-e-vetores" class="slide level2">
<h2>Matrizes e Vetores</h2>
<p>Uma característica de matrizes e vetores, é que todos os elementos serão do mesmo tipo. Caso tente juntar elementos diferentes em um vetor, como visto anteriormente, o R converterá os elementos para que todos sejam do mesmo tipo (no caso, string).</p>
<ul>
<li>Matrizes: todos os elementos numéricos.</li>
<li>Vetores: todos os elementos numéricos ou todos os elementos strings.</li>
</ul>
<p>Em diversas aplicações é necessário reunir elementos de diferentes tipos em uma mesma tabela. No R, essas tabelas se chamam data frames.</p>
</section>
<section id="data-frames" class="slide level2">
<h2>Data Frames</h2>
<p>Para exemplificar o uso de um data.frame vamos considerar as notas e outras informações de um conjunto de alunos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nomes    &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ana&quot;</span>, <span class="st">&quot;bia&quot;</span>, <span class="st">&quot;caio&quot;</span>, <span class="st">&quot;dani&quot;</span>, <span class="st">&quot;edu&quot;</span>)
nota1    &lt;-<span class="st"> </span><span class="kw">c</span>( <span class="dv">7</span>,  <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">3</span>, <span class="dv">6</span>)
nota2    &lt;-<span class="st"> </span><span class="kw">c</span>( <span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">4</span>)
entrega1 &lt;-<span class="st"> </span><span class="kw">c</span>(  T, F, T, F, F)
planilha &lt;-<span class="st"> </span><span class="kw">data.frame</span>(nomes , nota1 , nota2 , entrega1)
planilha
  nomes nota1 nota2 entrega1
<span class="dv">1</span>   ana     <span class="dv">7</span>    <span class="dv">10</span>     <span class="ot">TRUE</span>
<span class="dv">2</span>   bia     <span class="dv">4</span>     <span class="dv">5</span>    <span class="ot">FALSE</span>
<span class="dv">3</span>  caio     <span class="dv">9</span>     <span class="dv">6</span>     <span class="ot">TRUE</span>
<span class="dv">4</span>  dani     <span class="dv">3</span>     <span class="dv">2</span>    <span class="ot">FALSE</span>
<span class="dv">5</span>   edu     <span class="dv">6</span>     <span class="dv">4</span>    <span class="ot">FALSE</span></code></pre></div>
</section>
<section id="data-frames-1" class="slide level2">
<h2>Data Frames</h2>
<p>Podemos ter colunas com variáveis de diferentes tipos, porém todos os elementos de cada coluna precisam ser do mesmo tipo, e as colunas precisam ter o mesmo tamanho (valores faltantes podem ser preenchidos com NA). O indexador funciona da mesma maneira que vimos para matrizes, mas também de outras formas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">planilha[<span class="dv">3</span>,<span class="dv">1</span>]
[<span class="dv">1</span>] caio
Levels<span class="op">:</span><span class="st"> </span>ana bia caio dani edu
planilha[<span class="dv">2</span>,<span class="dv">3</span>]
[<span class="dv">1</span>] <span class="dv">5</span></code></pre></div>
</section>
<section id="data-frames-2" class="slide level2">
<h2>Data Frames</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">planilha<span class="op">$</span>nota2
[<span class="dv">1</span>] <span class="dv">10</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">2</span>  <span class="dv">4</span>

planilha[,<span class="st">&#39;nota2&#39;</span>]
[<span class="dv">1</span>] <span class="dv">10</span>  <span class="dv">5</span>  <span class="dv">6</span>  <span class="dv">2</span>  <span class="dv">4</span>

## Criando nova variável

planilha<span class="op">$</span>Presenca &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.95</span>,<span class="fl">0.80</span>,<span class="fl">0.95</span>,<span class="fl">0.7</span>,<span class="fl">0.75</span>)

planilha
  nomes nota1 nota2 entrega1 Presenca
<span class="dv">1</span>   ana     <span class="dv">7</span>    <span class="dv">10</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">2</span>   bia     <span class="dv">4</span>     <span class="dv">5</span>    <span class="ot">FALSE</span>     <span class="fl">0.80</span>
<span class="dv">3</span>  caio     <span class="dv">9</span>     <span class="dv">6</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">4</span>  dani     <span class="dv">3</span>     <span class="dv">2</span>    <span class="ot">FALSE</span>     <span class="fl">0.70</span>
<span class="dv">5</span>   edu     <span class="dv">6</span>     <span class="dv">4</span>    <span class="ot">FALSE</span>     <span class="fl">0.75</span></code></pre></div>
</section>
<section id="data-frames-3" class="slide level2">
<h2>Data Frames</h2>
<p>O ordenamento também funciona da mesma forma. Comumente, é interessante ordenar o data frame por alguma medida crescente ou decrescente. Por exemplo, podemos ordenar o data frame de acordo com a nota1.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">order</span>(planilha<span class="op">$</span>nota1)
[<span class="dv">1</span>] <span class="dv">4</span> <span class="dv">2</span> <span class="dv">5</span> <span class="dv">1</span> <span class="dv">3</span>

planilha[ <span class="kw">order</span>(planilha<span class="op">$</span>nota1) , ]
  nomes nota1 nota2 entrega1 Presenca
<span class="dv">4</span>  dani     <span class="dv">3</span>     <span class="dv">2</span>    <span class="ot">FALSE</span>     <span class="fl">0.70</span>
<span class="dv">2</span>   bia     <span class="dv">4</span>     <span class="dv">5</span>    <span class="ot">FALSE</span>     <span class="fl">0.80</span>
<span class="dv">5</span>   edu     <span class="dv">6</span>     <span class="dv">4</span>    <span class="ot">FALSE</span>     <span class="fl">0.75</span>
<span class="dv">1</span>   ana     <span class="dv">7</span>    <span class="dv">10</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">3</span>  caio     <span class="dv">9</span>     <span class="dv">6</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span></code></pre></div>
</section>
<section id="data-frames-4" class="slide level2">
<h2>Data Frames</h2>
<p>Para filtrar valores, podemos utilizar os operadores lógicos, segundo algum critério específico. Por exemplo, caso queiramos uma tabela onde constam apenas alunos com nota maior que 5 na primeira prova.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">planilha<span class="op">$</span>nota1 <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>
[<span class="dv">1</span>]  <span class="ot">TRUE</span> <span class="ot">FALSE</span>  <span class="ot">TRUE</span> <span class="ot">FALSE</span>  <span class="ot">TRUE</span>

planilha2 &lt;-<span class="st"> </span>planilha[ planilha<span class="op">$</span>nota1 <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span> , ]

planilha2
  nomes nota1 nota2 entrega1 Presenca
<span class="dv">1</span>   ana     <span class="dv">7</span>    <span class="dv">10</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">3</span>  caio     <span class="dv">9</span>     <span class="dv">6</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">5</span>   edu     <span class="dv">6</span>     <span class="dv">4</span>    <span class="ot">FALSE</span>     <span class="fl">0.75</span></code></pre></div>
</section>
<section id="data-frames-5" class="slide level2">
<h2>Data Frames</h2>
<p>Para a mesma operação realizada anteriormente, pode-se utilizar a função ‘subset()’.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">planilha2b &lt;-<span class="st"> </span><span class="kw">subset</span>( planilha , nota1 <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>)

planilha2b
  nomes nota1 nota2 entrega1 Presenca
<span class="dv">1</span>   ana     <span class="dv">7</span>    <span class="dv">10</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">3</span>  caio     <span class="dv">9</span>     <span class="dv">6</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">5</span>   edu     <span class="dv">6</span>     <span class="dv">4</span>    <span class="ot">FALSE</span>     <span class="fl">0.75</span></code></pre></div>
<p>Para métricas que envolvam duas condições (e.g. nota1 maior que 5 e nota2 menor que 8) informamos duas condições com utilizando o operador ‘&amp;’. subset( planilha , nota1 &gt; 5 &amp; nota2 &lt; 8).</p>
</section>
<section id="missing-values" class="slide level2">
<h2>Missing Values</h2>
<p>Quando um elemento é desconhecido ou faltante, o mesmo é registrado nos dados como NA (not available). Em geral, operações que que envolvam NA retornam NA.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vetor &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="ot">NA</span>)
vetor
[<span class="dv">1</span>]  <span class="dv">1</span>  <span class="dv">2</span>  <span class="dv">3</span>  <span class="dv">4</span> <span class="ot">NA</span>

<span class="kw">sum</span>(vetor)
[<span class="dv">1</span>] <span class="ot">NA</span>
<span class="kw">sum</span>(vetor,<span class="dt">na.rm=</span><span class="ot">TRUE</span>)
[<span class="dv">1</span>] <span class="dv">10</span></code></pre></div>
</section>
<section id="missing-values-1" class="slide level2">
<h2>Missing Values</h2>
<p>Para trabalhar com operadores lógicos com NA, usamos a função ‘is.na()’.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vetor <span class="op">==</span><span class="st"> </span><span class="dv">4</span>
[<span class="dv">1</span>] <span class="ot">FALSE</span> <span class="ot">FALSE</span> <span class="ot">FALSE</span>  <span class="ot">TRUE</span>    <span class="ot">NA</span>

vetor <span class="op">==</span><span class="st"> </span><span class="ot">NA</span>
[<span class="dv">1</span>] <span class="ot">NA</span> <span class="ot">NA</span> <span class="ot">NA</span> <span class="ot">NA</span> <span class="ot">NA</span>

<span class="kw">is.na</span>(vetor)
[<span class="dv">1</span>] <span class="ot">FALSE</span> <span class="ot">FALSE</span> <span class="ot">FALSE</span> <span class="ot">FALSE</span>  <span class="ot">TRUE</span>

<span class="kw">sum</span>(<span class="kw">is.na</span>(vetor))
[<span class="dv">1</span>] <span class="dv">1</span>

<span class="kw">mean</span>(<span class="kw">is.na</span>(vetor))<span class="op">*</span><span class="dv">100</span>
[<span class="dv">1</span>] <span class="dv">20</span></code></pre></div>
</section>
<section id="missing-values-2" class="slide level2">
<h2>Missing Values</h2>
<p>Um outro tipo de “valor faltante”, são os resultantes de algumas computações numéricas, os NaN (Not a Number), causados por indeterminações. Similarmente, usa-se a função ‘is.nan()’ para operadores lógicos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">0</span><span class="op">/</span><span class="dv">0</span>
[<span class="dv">1</span>] <span class="ot">NaN</span>

<span class="ot">Inf</span> <span class="op">-</span><span class="st"> </span><span class="ot">Inf</span>
[<span class="dv">1</span>] <span class="ot">NaN</span>

<span class="kw">is.nan</span>( <span class="kw">c</span>(<span class="dv">1</span> , <span class="dv">2</span> , <span class="dv">3</span> , <span class="dv">0</span><span class="op">/</span><span class="dv">0</span>) )
[<span class="dv">1</span>] <span class="ot">FALSE</span> <span class="ot">FALSE</span> <span class="ot">FALSE</span>  <span class="ot">TRUE</span></code></pre></div>
</section>
<section id="exercicios" class="slide level2">
<h2>Exercícios</h2>
<p>Considerando o data frame ‘planilha’ faça:</p>
<ol type="1">
<li>Calcule as médias dos vetores ‘nota1’ e ‘nota2’</li>
<li>Crie uma nova variável com a média das duas provas para cada aluno.</li>
<li>Crie uma nova variável que recebe “Aprovado” caso a média do aluno seja maior ou igual a 5 e “Reprovado” caso contrário.</li>
<li>Ordene a tabela pelo vetor correspondente à média das notas.<br />
</li>
<li>Crie uma segunda tabela, apenas com alunos aprovados.</li>
</ol>
</section>
<section id="leitura-de-dados-externos" class="slide level2">
<h2>Leitura de Dados Externos</h2>
<p>Existem diversas maneiras para carregar dados de fontes externas no R. Muitas vezes a função utilizada é dependente da estrutura dos dados (csv, excel, txt, jSON, SAS, stata, etc). Por exemplo, iremos ler os dados em formato txt, usando a função ‘read.table()’.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dados &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;/home/cayan/salario.txt&quot;</span>,
                    <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span> , <span class="dt">dec =</span> <span class="st">&quot;.&quot;</span>)

<span class="kw">head</span>(dados)
  Salario      Sexo Posicao  Exp
<span class="dv">1</span>     <span class="dv">148</span> Masculino       <span class="dv">7</span> <span class="fl">16.7</span>
<span class="dv">2</span>     <span class="dv">165</span> Masculino       <span class="dv">7</span>  <span class="fl">6.7</span>
<span class="dv">3</span>     <span class="dv">145</span> Masculino       <span class="dv">5</span> <span class="fl">14.8</span>
<span class="dv">4</span>     <span class="dv">139</span>  Feminino       <span class="dv">7</span> <span class="fl">13.9</span>
<span class="dv">5</span>     <span class="dv">142</span>  Feminino       <span class="dv">6</span>  <span class="fl">6.4</span>
<span class="dv">6</span>     <span class="dv">144</span> Masculino       <span class="dv">5</span>  <span class="fl">9.1</span></code></pre></div>
</section>
<section id="leitura-de-dados-externos-1" class="slide level2">
<h2>Leitura de Dados Externos</h2>
<p>Existem outras funções para carregar dados de outros formatos. Abaixo, seguem alguns exemplos.</p>
<ul>
<li>Para dados em formato csv: read.csv(…)</li>
<li>Para dados em formato excel: read_excel(..) - pacote ‘readxl’</li>
<li>Para dados em formato SAS: read_sas(…) - pacote ‘haven’</li>
<li>Para dados em formato stata: read_stata(…) - pacote ‘haven’</li>
</ul>
</section>
<section id="explorando-data-frames" class="slide level2">
<h2>Explorando Data Frames</h2>
<p>Algumas função são bastante úteis quando estamos analisando uma base de dados real. Com o objeto ‘dados’ exploraremos algumas destas funções.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Olhando a estrutura das variáveis dos dados</span>

<span class="kw">str</span>(dados)
<span class="st">&#39;data.frame&#39;</span><span class="op">:</span><span class="st">   </span><span class="dv">220</span> obs. of  <span class="dv">4</span> variables<span class="op">:</span>
<span class="st"> </span><span class="er">$</span><span class="st"> </span>Salario<span class="op">:</span><span class="st"> </span>int  <span class="dv">148</span> <span class="dv">165</span> <span class="dv">145</span> <span class="dv">139</span> <span class="dv">142</span> <span class="dv">144</span> <span class="dv">128</span> <span class="dv">143</span> <span class="dv">157</span> <span class="dv">150</span> ...
 <span class="op">$</span><span class="st"> </span>Sexo   <span class="op">:</span><span class="st"> </span>Factor w<span class="op">/</span><span class="st"> </span><span class="dv">2</span> levels <span class="st">&quot;Feminino&quot;</span>,<span class="st">&quot;Masculino&quot;</span><span class="op">:</span><span class="st"> </span><span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> ...
 <span class="op">$</span><span class="st"> </span>Posicao<span class="op">:</span><span class="st"> </span>int  <span class="dv">7</span> <span class="dv">7</span> <span class="dv">5</span> <span class="dv">7</span> <span class="dv">6</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">7</span> ...
 <span class="op">$</span><span class="st"> </span>Exp    <span class="op">:</span><span class="st"> </span>num  <span class="fl">16.7</span> <span class="fl">6.7</span> <span class="fl">14.8</span> <span class="fl">13.9</span> <span class="fl">6.4</span> <span class="fl">9.1</span> <span class="fl">8.5</span> <span class="fl">18.2</span> <span class="dv">13</span> <span class="fl">21.6</span> ...

<span class="co"># Olhando a dimensão da tabela (linhas x colunas)</span>

<span class="kw">dim</span>(dados)
[<span class="dv">1</span>] <span class="dv">220</span>   <span class="dv">4</span></code></pre></div>
</section>
<section id="explorando-data-frames-1" class="slide level2">
<h2>Explorando Data Frames</h2>
<p>Também é interessante calcular algumas medidas descritivas, como média e variância.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Calculando a média da variavel salario</span>
<span class="kw">sum</span>( dados<span class="op">$</span>Salario ) <span class="op">/</span><span class="st"> </span><span class="kw">length</span>( dados<span class="op">$</span>Salario )
[<span class="dv">1</span>] <span class="fl">142.8682</span>

<span class="co"># Calculando a média da variavel salario</span>
<span class="kw">mean</span>(dados<span class="op">$</span>Salario)
[<span class="dv">1</span>] <span class="fl">142.8682</span>

<span class="co"># Calculando a variância da variavel salario</span>
<span class="kw">sum</span>((dados<span class="op">$</span>Salario <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(dados<span class="op">$</span>Salario))<span class="op">^</span><span class="dv">2</span>) <span class="op">/</span><span class="st"> </span>(<span class="kw">length</span>(dados<span class="op">$</span>Salario) <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)
[<span class="dv">1</span>] <span class="fl">156.7634</span>

<span class="co"># Calculando a variância da variavel salario</span>
<span class="kw">var</span>(dados<span class="op">$</span>Salario)
[<span class="dv">1</span>] <span class="fl">156.7634</span></code></pre></div>
</section>
<section id="explorando-data-frames-2" class="slide level2">
<h2>Explorando Data Frames</h2>
<ul>
<li>Função ‘summary()’ fornece medidas descritivas gerais do data frame.</li>
<li>Função ‘View()’ abre os dados em um painel de visualização. (No painel de ambiente, clicar no objeto).</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(dados)
    Salario             Sexo        Posicao           Exp       
 Min.   <span class="op">:</span><span class="fl">110.0</span>   Feminino <span class="op">:</span><span class="st"> </span><span class="dv">75</span>   Min.   <span class="op">:</span><span class="fl">1.000</span>   Min.   <span class="op">:</span><span class="st"> </span><span class="fl">1.70</span>  
 1st Qu.<span class="op">:</span><span class="fl">133.0</span>   Masculino<span class="op">:</span><span class="dv">145</span>   1st Qu.<span class="op">:</span><span class="fl">4.000</span>   1st Qu.<span class="op">:</span><span class="st"> </span><span class="fl">6.60</span>  
 Median <span class="op">:</span><span class="fl">143.5</span>                   Median <span class="op">:</span><span class="fl">5.000</span>   Median <span class="op">:</span><span class="st"> </span><span class="fl">9.50</span>  
 Mean   <span class="op">:</span><span class="fl">142.9</span>                   Mean   <span class="op">:</span><span class="fl">5.068</span>   Mean   <span class="op">:</span><span class="fl">10.48</span>  
 3rd Qu.<span class="op">:</span><span class="fl">151.0</span>                   3rd Qu.<span class="op">:</span><span class="fl">6.000</span>   3rd Qu.<span class="op">:</span><span class="fl">13.40</span>  
 Max.   <span class="op">:</span><span class="fl">172.0</span>                   Max.   <span class="op">:</span><span class="fl">9.000</span>   Max.   <span class="op">:</span><span class="fl">26.10</span>  

<span class="co"># View(dados)</span></code></pre></div>
</section>
<section id="explorando-data-frames-3" class="slide level2">
<h2>Explorando Data Frames</h2>
<p>Duas funções bastante utilizadas no R, são as funções ‘cbind()’ e ‘rbind()’, utilizadas para “juntar” data frames por colunas (columns) e linhas (rows) respectivamente. Por exemplo, voltando ao data frame ‘planilha’, suponha que agora estão disponíveis as mesmas informações para outros alunos, e deseja-se juntar as duas tabelas em uma só.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">planilha3 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">nomes    =</span> <span class="kw">c</span>(<span class="st">&quot;joao&quot;</span>,<span class="st">&quot;manu&quot;</span>,<span class="st">&quot;tais&quot;</span>),
                        <span class="dt">nota1    =</span> <span class="kw">c</span>( <span class="dv">2</span> , <span class="dv">9</span> , <span class="dv">4</span>),
                        <span class="dt">nota2    =</span> <span class="kw">c</span>( <span class="dv">5</span> , <span class="dv">5</span> , <span class="dv">6</span>),
                        <span class="dt">entrega1 =</span> <span class="kw">c</span>( T , T , T),
                        <span class="dt">Presenca =</span> <span class="kw">c</span>( <span class="fl">0.85</span> , <span class="fl">0.95</span> , <span class="fl">0.90</span>) )</code></pre></div>
</section>
<section id="explorando-data-frames-4" class="slide level2">
<h2>Explorando Data Frames</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(planilha)
  nomes nota1 nota2 entrega1 Presenca
<span class="dv">1</span>   ana     <span class="dv">7</span>    <span class="dv">10</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">2</span>   bia     <span class="dv">4</span>     <span class="dv">5</span>    <span class="ot">FALSE</span>     <span class="fl">0.80</span>
<span class="dv">3</span>  caio     <span class="dv">9</span>     <span class="dv">6</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">4</span>  dani     <span class="dv">3</span>     <span class="dv">2</span>    <span class="ot">FALSE</span>     <span class="fl">0.70</span>
<span class="dv">5</span>   edu     <span class="dv">6</span>     <span class="dv">4</span>    <span class="ot">FALSE</span>     <span class="fl">0.75</span>

<span class="kw">head</span>(planilha3)
  nomes nota1 nota2 entrega1 Presenca
<span class="dv">1</span>  joao     <span class="dv">2</span>     <span class="dv">5</span>     <span class="ot">TRUE</span>     <span class="fl">0.85</span>
<span class="dv">2</span>  manu     <span class="dv">9</span>     <span class="dv">5</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">3</span>  tais     <span class="dv">4</span>     <span class="dv">6</span>     <span class="ot">TRUE</span>     <span class="fl">0.90</span></code></pre></div>
</section>
<section id="explorando-data-frames-5" class="slide level2">
<h2>Explorando Data Frames</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">planilha4 &lt;-<span class="st"> </span><span class="kw">rbind</span>(planilha , planilha3)

planilha4
  nomes nota1 nota2 entrega1 Presenca
<span class="dv">1</span>   ana     <span class="dv">7</span>    <span class="dv">10</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">2</span>   bia     <span class="dv">4</span>     <span class="dv">5</span>    <span class="ot">FALSE</span>     <span class="fl">0.80</span>
<span class="dv">3</span>  caio     <span class="dv">9</span>     <span class="dv">6</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">4</span>  dani     <span class="dv">3</span>     <span class="dv">2</span>    <span class="ot">FALSE</span>     <span class="fl">0.70</span>
<span class="dv">5</span>   edu     <span class="dv">6</span>     <span class="dv">4</span>    <span class="ot">FALSE</span>     <span class="fl">0.75</span>
<span class="dv">6</span>  joao     <span class="dv">2</span>     <span class="dv">5</span>     <span class="ot">TRUE</span>     <span class="fl">0.85</span>
<span class="dv">7</span>  manu     <span class="dv">9</span>     <span class="dv">5</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">8</span>  tais     <span class="dv">4</span>     <span class="dv">6</span>     <span class="ot">TRUE</span>     <span class="fl">0.90</span></code></pre></div>
<p>Caso a outra tabela fosse referente à outras variáveis dos mesmos alunos, o procedimento seria análogo, utilizando o ‘cbind()’. O resultado seria um novo data frame com o mesmo número de linhas e com mais colunas.</p>
</section>
<section id="exercicios-1" class="slide level2">
<h2>Exercícios</h2>
<p>Considere os seguintes data frames:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d1 &lt;-<span class="st"> </span><span class="kw">data.frame</span>( <span class="dt">Peso   =</span> <span class="kw">runif</span>( <span class="dt">n =</span> <span class="dv">50</span> , <span class="dt">min =</span> <span class="dv">40</span>  , <span class="dt">max =</span> <span class="dv">110</span>),
                  <span class="dt">Altura =</span> <span class="kw">runif</span>( <span class="dt">n =</span> <span class="dv">50</span> , <span class="dt">min =</span> <span class="fl">1.5</span> , <span class="dt">max =</span> <span class="dv">2</span>))

d2 &lt;-<span class="st"> </span><span class="kw">data.frame</span>( <span class="dt">Altura =</span> <span class="kw">runif</span>( <span class="dt">n =</span> <span class="dv">50</span> , <span class="dt">min =</span> <span class="fl">1.5</span> , <span class="dt">max =</span> <span class="dv">2</span>),
                  <span class="dt">Peso   =</span> <span class="kw">runif</span>( <span class="dt">n =</span> <span class="dv">50</span> , <span class="dt">min =</span> <span class="dv">40</span>  , <span class="dt">max =</span> <span class="dv">110</span>))</code></pre></div>
<ol type="1">
<li>Crie a variável IMC nos dois data frames (IMC = Peso / Altura²)</li>
<li>Crie um novo data frame correspondente aos dois data frames (100 linhas , 3 colunas)</li>
<li>Neste novo data frame (100x3), exclua observações com IMC menores que 15 e maiores que 40</li>
</ol>
</section>
<section id="listas" class="slide level2">
<h2>Listas</h2>
<p>Listas possuem uma estrutura poderosa e são bastantes utilizadas no R. Nas listas, é possível armazenar um conjunto de objetos de diferentes estruturas (vetores, strings, funções, data.frames, matrizes, etc.), permitindo que cada elemento seja de um tipo, ou seja, são heterogêneas.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lista &lt;-<span class="st"> </span><span class="kw">list</span>()

<span class="kw">class</span>(lista)
[<span class="dv">1</span>] <span class="st">&quot;list&quot;</span></code></pre></div>
</section>
<section id="listas-1" class="slide level2">
<h2>Listas</h2>
<p>Podemos armazenar alguns objetos de diferentes tipos que trabalhamos até aqui. A indexação ocorre de maneira um pouco diferente, sendo necessário dois colchetes ‘[[ ]]’ a um elemento da lista.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lista[[<span class="dv">1</span>]] &lt;-<span class="st"> </span>dados

lista[[<span class="dv">2</span>]] &lt;-<span class="st"> </span>planilha4

lista[[<span class="dv">3</span>]] &lt;-<span class="st"> </span>matriz

lista[[<span class="dv">4</span>]] &lt;-<span class="st"> &quot;Qualquer string&quot;</span></code></pre></div>
</section>
<section id="listas-2" class="slide level2">
<h2>Listas</h2>
<p>Desta maneira, criamos uma lista com 4 elementos. O comando str(…) nos dá a estrutura da lista e de seus elementos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(lista)
List of <span class="dv">4</span>
 <span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="op">:</span><span class="st">   </span><span class="dv">220</span> obs. of  <span class="dv">4</span> variables<span class="op">:</span>
<span class="st">  </span>..<span class="op">$</span><span class="st"> </span>Salario<span class="op">:</span><span class="st"> </span>int [<span class="dv">1</span><span class="op">:</span><span class="dv">220</span>] <span class="dv">148</span> <span class="dv">165</span> <span class="dv">145</span> <span class="dv">139</span> <span class="dv">142</span> <span class="dv">144</span> <span class="dv">128</span> <span class="dv">143</span> <span class="dv">157</span> <span class="dv">150</span> ...
  ..<span class="op">$</span><span class="st"> </span>Sexo   <span class="op">:</span><span class="st"> </span>Factor w<span class="op">/</span><span class="st"> </span><span class="dv">2</span> levels <span class="st">&quot;Feminino&quot;</span>,<span class="st">&quot;Masculino&quot;</span><span class="op">:</span><span class="st"> </span><span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> ...
  ..<span class="op">$</span><span class="st"> </span>Posicao<span class="op">:</span><span class="st"> </span>int [<span class="dv">1</span><span class="op">:</span><span class="dv">220</span>] <span class="dv">7</span> <span class="dv">7</span> <span class="dv">5</span> <span class="dv">7</span> <span class="dv">6</span> <span class="dv">5</span> <span class="dv">3</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">7</span> ...
  ..<span class="op">$</span><span class="st"> </span>Exp    <span class="op">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">220</span>] <span class="fl">16.7</span> <span class="fl">6.7</span> <span class="fl">14.8</span> <span class="fl">13.9</span> <span class="fl">6.4</span> <span class="fl">9.1</span> <span class="fl">8.5</span> <span class="fl">18.2</span> <span class="dv">13</span> <span class="fl">21.6</span> ...
 <span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st">&#39;data.frame&#39;</span><span class="op">:</span><span class="st">   </span><span class="dv">8</span> obs. of  <span class="dv">5</span> variables<span class="op">:</span>
<span class="st">  </span>..<span class="op">$</span><span class="st"> </span>nomes   <span class="op">:</span><span class="st"> </span>Factor w<span class="op">/</span><span class="st"> </span><span class="dv">8</span> levels <span class="st">&quot;ana&quot;</span>,<span class="st">&quot;bia&quot;</span>,<span class="st">&quot;caio&quot;</span>,..<span class="op">:</span><span class="st"> </span><span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">7</span> <span class="dv">8</span>
  ..<span class="op">$</span><span class="st"> </span>nota1   <span class="op">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>] <span class="dv">7</span> <span class="dv">4</span> <span class="dv">9</span> <span class="dv">3</span> <span class="dv">6</span> <span class="dv">2</span> <span class="dv">9</span> <span class="dv">4</span>
  ..<span class="op">$</span><span class="st"> </span>nota2   <span class="op">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>] <span class="dv">10</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">2</span> <span class="dv">4</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">6</span>
  ..<span class="op">$</span><span class="st"> </span>entrega1<span class="op">:</span><span class="st"> </span>logi [<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>] <span class="ot">TRUE</span> <span class="ot">FALSE</span> <span class="ot">TRUE</span> <span class="ot">FALSE</span> <span class="ot">FALSE</span> <span class="ot">TRUE</span> ...
  ..<span class="op">$</span><span class="st"> </span>Presenca<span class="op">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>] <span class="fl">0.95</span> <span class="fl">0.8</span> <span class="fl">0.95</span> <span class="fl">0.7</span> <span class="fl">0.75</span> <span class="fl">0.85</span> <span class="fl">0.95</span> <span class="fl">0.9</span>
 <span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] <span class="dv">1</span> <span class="dv">7</span> <span class="dv">17</span> <span class="dv">3</span> <span class="dv">11</span> <span class="dv">19</span> <span class="dv">5</span> <span class="dv">13</span> <span class="dv">23</span>
 <span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>chr <span class="st">&quot;Qualquer string&quot;</span></code></pre></div>
</section>
<section id="listas-3" class="slide level2">
<h2>Listas</h2>
<p>Após indicar o elemento a ser acessado, já é possível realizar as demais operações de sua natureza, como anteriormente. Por exemplo, sabemos que o primeiro elemento do nosso objeto ‘lista’ é um data frame, logo, realizar as seguintes operações.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>( lista[[<span class="dv">1</span>]] )
    Salario             Sexo        Posicao           Exp       
 Min.   <span class="op">:</span><span class="fl">110.0</span>   Feminino <span class="op">:</span><span class="st"> </span><span class="dv">75</span>   Min.   <span class="op">:</span><span class="fl">1.000</span>   Min.   <span class="op">:</span><span class="st"> </span><span class="fl">1.70</span>  
 1st Qu.<span class="op">:</span><span class="fl">133.0</span>   Masculino<span class="op">:</span><span class="dv">145</span>   1st Qu.<span class="op">:</span><span class="fl">4.000</span>   1st Qu.<span class="op">:</span><span class="st"> </span><span class="fl">6.60</span>  
 Median <span class="op">:</span><span class="fl">143.5</span>                   Median <span class="op">:</span><span class="fl">5.000</span>   Median <span class="op">:</span><span class="st"> </span><span class="fl">9.50</span>  
 Mean   <span class="op">:</span><span class="fl">142.9</span>                   Mean   <span class="op">:</span><span class="fl">5.068</span>   Mean   <span class="op">:</span><span class="fl">10.48</span>  
 3rd Qu.<span class="op">:</span><span class="fl">151.0</span>                   3rd Qu.<span class="op">:</span><span class="fl">6.000</span>   3rd Qu.<span class="op">:</span><span class="fl">13.40</span>  
 Max.   <span class="op">:</span><span class="fl">172.0</span>                   Max.   <span class="op">:</span><span class="fl">9.000</span>   Max.   <span class="op">:</span><span class="fl">26.10</span>  </code></pre></div>
</section>
<section id="listas-4" class="slide level2">
<h2>Listas</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(lista[[<span class="dv">1</span>]])
[<span class="dv">1</span>] <span class="st">&quot;Salario&quot;</span> <span class="st">&quot;Sexo&quot;</span>    <span class="st">&quot;Posicao&quot;</span> <span class="st">&quot;Exp&quot;</span>    

<span class="kw">mean</span>( lista[[<span class="dv">1</span>]]<span class="op">$</span>Salario )
[<span class="dv">1</span>] <span class="fl">142.8682</span>

lista[[<span class="dv">1</span>]]<span class="op">$</span>Salario[<span class="dv">10</span>]
[<span class="dv">1</span>] <span class="dv">150</span>

lista[[<span class="dv">1</span>]][<span class="dv">10</span>,<span class="dv">1</span>]
[<span class="dv">1</span>] <span class="dv">150</span>

<span class="kw">class</span>(lista[[<span class="dv">1</span>]])
[<span class="dv">1</span>] <span class="st">&quot;data.frame&quot;</span></code></pre></div>
<p>Se atribuirmos o elemento lista[[1]] à algum objeto, os procedimentos ocorrem da mesma maneira.</p>
</section>
<section id="listas-5" class="slide level2">
<h2>Listas</h2>
<p>O mesmo ocorre com os demais elementos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>( lista[[<span class="dv">2</span>]] )   <span class="co"># data.frame</span>
  nomes nota1 nota2 entrega1 Presenca
<span class="dv">1</span>   ana     <span class="dv">7</span>    <span class="dv">10</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">2</span>   bia     <span class="dv">4</span>     <span class="dv">5</span>    <span class="ot">FALSE</span>     <span class="fl">0.80</span>
<span class="dv">3</span>  caio     <span class="dv">9</span>     <span class="dv">6</span>     <span class="ot">TRUE</span>     <span class="fl">0.95</span>
<span class="dv">4</span>  dani     <span class="dv">3</span>     <span class="dv">2</span>    <span class="ot">FALSE</span>     <span class="fl">0.70</span>
<span class="dv">5</span>   edu     <span class="dv">6</span>     <span class="dv">4</span>    <span class="ot">FALSE</span>     <span class="fl">0.75</span>
<span class="dv">6</span>  joao     <span class="dv">2</span>     <span class="dv">5</span>     <span class="ot">TRUE</span>     <span class="fl">0.85</span>

<span class="kw">dim</span>( lista[[<span class="dv">3</span>]] )    <span class="co"># matriz</span>
[<span class="dv">1</span>] <span class="dv">3</span> <span class="dv">3</span>

<span class="kw">nchar</span>(lista[[<span class="dv">4</span>]] )   <span class="co"># string</span>
[<span class="dv">1</span>] <span class="dv">15</span></code></pre></div>
</section>
<section id="listas-6" class="slide level2">
<h2>Listas</h2>
<p>Listas são estruturas muito fortes, permitindo até ter lista dentro de lista</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">teste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">x1 =</span> <span class="dv">105</span>, 
              <span class="dt">x2 =</span> <span class="kw">list</span>(<span class="dv">2883</span> , <span class="dv">1790</span>),
              <span class="dt">x3 =</span> <span class="kw">c</span>(<span class="dv">103</span>, <span class="dv">119</span>))

<span class="kw">str</span>(teste)
List of <span class="dv">3</span>
 <span class="op">$</span><span class="st"> </span>x1<span class="op">:</span><span class="st"> </span>num <span class="dv">105</span>
 <span class="op">$</span><span class="st"> </span>x2<span class="op">:</span>List of <span class="dv">2</span>
  ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num <span class="dv">2883</span>
  ..<span class="op">$</span><span class="st"> </span><span class="er">:</span><span class="st"> </span>num <span class="dv">1790</span>
 <span class="op">$</span><span class="st"> </span>x3<span class="op">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>] <span class="dv">103</span> <span class="dv">119</span></code></pre></div>
</section>
<section id="listas-7" class="slide level2">
<h2>Listas</h2>
<p>Pode ser interessante alocarmos todos os objetos da lista em um só vetor. Para isso, utilizamos a função ‘unlist(…)’. Assim, é possível manipular o vetor de forma usual.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">unlist</span>(teste)
  x1  x21  x22  x31  x32 
 <span class="dv">105</span> <span class="dv">2883</span> <span class="dv">1790</span>  <span class="dv">103</span>  <span class="dv">119</span> 

<span class="kw">mean</span>( <span class="kw">unlist</span>(teste) )
[<span class="dv">1</span>] <span class="dv">1000</span>

<span class="kw">var</span>( <span class="kw">unlist</span>(teste) )
[<span class="dv">1</span>] <span class="dv">1637896</span>

<span class="kw">unlist</span>(teste)[<span class="dv">1</span>]
 x1 
<span class="dv">105</span> </code></pre></div>
</section>
<section id="graficos" class="slide level2">
<h2>Gráficos</h2>
<p>Como dito anteriormente, a análise visual é uma poderosa ferramenta do R. Diversas plataformas foram desenvolvidas e/ou adaptadas para este cenário no R.</p>
<ul>
<li>ggplot2 - Gráficos mais refinados e flexíveis (‘Gramática dos gráficos’).</li>
<li>plotly - Gráficos interativos.</li>
<li>Shiny - Visualização interativa, web pages, dashboards.</li>
<li>leflet - Mapas interativos no R.</li>
</ul>
</section>
<section id="graficos-1" class="slide level2">
<h2>Gráficos</h2>
<p>Aqui, focaremos nos recursos básicos do R para gráficos.</p>
<ul>
<li>Função plot(x, y, …)
<ul>
<li>x = coordenada de pontos do eixo X (horizontal).</li>
<li>y = coordenada de pontos do eixo Y (vertical).</li>
<li>… = demais argumentos gráficos (?par)</li>
</ul></li>
<li>Outras funções
<ul>
<li>barplot</li>
<li>boxplot</li>
<li>hist</li>
</ul></li>
</ul>
</section>
<section id="graficos-2" class="slide level2">
<h2>Gráficos</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Utilizando o objeto planilha4 </span>
<span class="kw">plot</span>( <span class="dt">x =</span> planilha4<span class="op">$</span>nota1 , <span class="dt">y =</span> planilha4<span class="op">$</span>nota2)</code></pre></div>
<p><img src="curso_semana_files/figure-revealjs/unnamed-chunk-52-1.png" width="480" /></p>
</section>
<section id="graficos-3" class="slide level2">
<h2>Gráficos</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>( <span class="dt">x =</span> planilha4<span class="op">$</span>nota1 , <span class="dt">y =</span> planilha4<span class="op">$</span>nota2 , <span class="dt">col =</span> planilha4<span class="op">$</span>nomes, 
      <span class="dt">pch =</span> <span class="dv">16</span> , <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">10</span>) , <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">11</span>) ,
      <span class="dt">xlab =</span> <span class="st">&quot;Nota da Primeira Prova&quot;</span>,   <span class="dt">ylab =</span> <span class="st">&quot;Nota da Segunda Prova&quot;</span> ,
      <span class="dt">main =</span> <span class="st">&quot;Nota dos Alunos&quot;</span>)
<span class="kw">text</span>(planilha4<span class="op">$</span>nota1,planilha4<span class="op">$</span>nota2<span class="op">+</span><span class="fl">0.5</span>,planilha4<span class="op">$</span>nomes)</code></pre></div>
<p><img src="curso_semana_files/figure-revealjs/unnamed-chunk-53-1.png" width="480" /></p>
</section>
<section id="graficos-4" class="slide level2">
<h2>Gráficos</h2>
<p>Alguns comandos úteis:</p>
<ul>
<li>type: “p” para pontos, “l” para linhas.. (ver ?plot)</li>
<li>lty: tipo de linha; 1 = sólida, 2 = pontilhada .. (ver ?par)</li>
<li>lwd: largura da linha (default = 1)</li>
<li>pch: símbolo a ser representado em um gráfico de pontos (ver ?points)</li>
<li>col: cores</li>
<li>legenda: função própria (ver ?legend)</li>
<li>Para outros argumentos, ver: ?par, ?points, ?plot</li>
</ul>
</section>
<section id="exercicio" class="slide level2">
<h2>Exercício</h2>
<p>A partir do objeto ‘dados’, reproduza o gráfico a seguir: <img src="curso_semana_files/figure-revealjs/unnamed-chunk-54-1.png" width="768" /></p>
</section>

  <!--
  To hide progress bar from entire presentation
  just remove “progress” element.
  -->
  <!-- <div class="progress"></div> -->
  <script src="curso_semana_files/rmdshower/node_modules/shower/node_modules/shower-core/shower.min.js"></script>
  <!-- Copyright © 2015 Yours Truly, Famous Inc. -->
  <!-- Photos by John Carey, fiftyfootshadows.net -->

    <script>renderMathInElement(document.body);</script>
  
  
</body>
</html>
